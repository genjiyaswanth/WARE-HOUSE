<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<div th:insert="/fragments/commonui :: userhead"></div>
	<div th:insert="/fragments/commonui :: usermenu"></div>

    <div class="container">
        <div class="card-header bg-success text-white text-center">
            <h2>Details Page</h2>
        </div>
        <div class="card-body bg-white">
        
        		<table class="table table-hover text-center mt-5" >
					<tr >
						<th>GRN CODE</th>
						<th th:text="${grn.grnCode}" class="bg-light text-danger"></th>
						
						<th>PURCHASE ORDER CODE</th>
						<th th:text="${grn.purchaseOrder.purchaseOrderCode}" class="bg-light text-danger"></th>
					</tr>
				</table>
        
                <table class="table table-hover text-center mt-5" >
					<tr class="bg-info text-white">
						<th>SL No</th>
						<th>ITEM CODE</th>
						<th>BASE COST</th>
						<th>QUANTITY</th>
						<th>TOTAL</th>
						<th>OPERATION</th>
					</tr>
					<tr th:each="ob,i:${grndetails}">
						<td th:text="${i.count}"></td>
						<td th:text="${ob.id}"></td>
						<td th:text="${ob.cost}"></td>
						<td th:text="${ob.quantity}"></td>
						<td th:text="${ob.cost * ob.quantity}" ></td>
						<td >
							<div th:if="${ob.status == null}" >
								<a th:href="@{/grn/updatestatus(grndetailid=${ob.id}, grnid=${ob.grn.id}, status=${'ACCEPTED'})}"
   							     class="btn btn-danger">ACCEPT</a>

								<a th:href="@{/grn/updatestatus(grndetailid=${ob.id}, grnid=${ob.grn.id}, status=${'REJECTED'})}"
						   		 class="btn btn-danger">REJECT</a>
							</div>
							<div th:if="${ob.status == 'ACCEPTED'}" >
								<span class="text-primary"> ACCEPTED </span>
							</div>
							<div th:if="${ob.status == 'REJECTED'}" >
								<span class="text-danger"> REJECTED </span>
							</div>
						</td>
					</tr>
				</table>
 
        </div>
    </div>

</body>
</html>
